---
title: Query DSL
description: Complete reference for querying data with filters, sorting, and pagination
---

# Query DSL

This document provides the complete specification for ObjectQL's Query DSL (Domain-Specific Language).

## Basic Query

```typescript
db.query(objectName: string, options: QueryOptions): Promise<Record[]>

interface QueryOptions {
  fields?: string[]           // Fields to return
  filters?: Filter[]          // WHERE conditions
  sort?: string | Sort[]      // ORDER BY
  limit?: number              // LIMIT
  skip?: number               // OFFSET
  top?: number                // Alternative to limit
}
```

## Filters

Filter syntax: `[field, operator, value]`

### Comparison Operators

```typescript
// Equal
['status', '=', 'active']
['status', 'eq', 'active']

// Not equal
['status', '!=', 'archived']
['status', 'ne', 'archived']

// Greater than
['age', '>', 18]
['age', 'gt', 18]

// Greater than or equal
['age', '>=', 18]
['age', 'gte', 18]

// Less than
['price', '<', 100]
['price', 'lt', 100]

// Less than or equal
['price', '<=', 100]
['price', 'lte', 100]
```

### String Operators

```typescript
// Contains (case-insensitive)
['name', 'contains', 'john']
['name', 'like', '%john%']

// Starts with
['email', 'startswith', 'admin']
['email', 'like', 'admin%']

// Ends with
['domain', 'endswith', '.com']
['domain', 'like', '%.com']

// Not contains
['name', 'notcontains', 'test']
['name', 'not like', '%test%']
```

### List Operators

```typescript
// In list
['status', 'in', ['draft', 'published']]

// Not in list
['status', 'notin', ['archived', 'deleted']]

// Between
['age', 'between', [18, 65]]
```

### Null Operators

```typescript
// Is null
['description', '=', null]
['description', 'is null']

// Is not null
['description', '!=', null]
['description', 'is not null']
```

### Compound Filters

```typescript
// AND (default)
filters: [
  ['status', '=', 'active'],
  ['age', '>', 18]
]
// WHERE status = 'active' AND age > 18

// OR
filters: [
  'or',
  ['status', '=', 'active'],
  ['status', '=', 'pending']
]
// WHERE status = 'active' OR status = 'pending'

// Complex combinations
filters: [
  'and',
  ['category', '=', 'electronics'],
  [
    'or',
    ['price', '<', 100],
    ['on_sale', '=', true]
  ]
]
// WHERE category = 'electronics' AND (price < 100 OR on_sale = true)
```

## Sorting

```typescript
// Simple string
sort: 'name'              // ASC by default
sort: 'name asc'
sort: 'price desc'

// Multiple fields
sort: 'category asc, price desc'

// Array syntax
sort: [
  { field: 'category', order: 'asc' },
  { field: 'price', order: 'desc' }
]
```

## Pagination

```typescript
// Limit and skip
{
  limit: 10,
  skip: 20    // Skip first 20 records
}

// Page-based
{
  top: 10,              // Records per page
  skip: pageNumber * 10
}

// Example: Get page 3 with 25 records per page
{
  limit: 25,
  skip: 2 * 25  // Skip first 50 (pages 1 & 2)
}
```

## Field Selection

```typescript
// Select specific fields
{
  fields: ['name', 'email', 'created']
}

// Select related fields
{
  fields: ['name', 'owner.name', 'owner.email']
}

// All fields (default)
{
  fields: ['*']
}
```

## Complete Query Example

```typescript
const results = await db.query('opportunity', {
  fields: ['name', 'amount', 'stage', 'account.name'],
  filters: [
    'and',
    ['stage', 'in', ['prospecting', 'qualification']],
    ['amount', '>', 10000],
    [
      'or',
      ['owner', '=', currentUserId],
      ['team', 'contains', currentUserId]
    ]
  ],
  sort: [
    { field: 'amount', order: 'desc' },
    { field: 'created', order: 'asc' }
  ],
  limit: 50,
  skip: 0
})
```

## Next Steps

- Master [Aggregation](/docs/02-objectql/aggregation) for data analysis
- Learn [Mutation Operations](/docs/02-objectql/mutation) for data modification
- Review [Schema Definition](/docs/02-objectql/schema-definition) for data modeling
