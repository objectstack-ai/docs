---
title: ObjectQL - The Data Engine
description: Powerful data engine with schema-driven architecture and cross-database support
---

# ObjectQL - The Data Engine

ObjectQL is the core data engine of ObjectStack, providing a unified data access layer with schema-driven architecture, powerful query capabilities, and cross-database support.

## What is ObjectQL?

ObjectQL is a **declarative data engine** that allows you to define your data structure once and access it consistently across different database systems. It abstracts database complexity while preserving SQL power and performance.

### Key Capabilities

- ğŸ—‚ï¸ **Schema-Driven Architecture** - Define data structures declaratively
- ğŸ” **Unified Query DSL** - Query any database with consistent syntax
- âš¡ **Performance Optimized** - Virtual Column Index for SQLite, optimized drivers
- ğŸ”„ **Cross-Database Support** - SQLite, MySQL, PostgreSQL, Oracle, SQL Server
- ğŸ—ï¸ **Virtual City Mechanism** - Multi-tenant data isolation
- ğŸ›¡ï¸ **Type Safety** - Strong typing for queries and results

## How It Works

ObjectQL operates on three core principles:

### 1. Schema Definition

Define your data structure using simple JavaScript objects:

```typescript
const schema = {
  objects: {
    todos: {
      fields: {
        title: { type: 'text', required: true },
        completed: { type: 'boolean', defaultValue: false },
        due_date: { type: 'datetime' }
      }
    }
  }
}
```

### 2. Query Execution

Query your data using an intuitive DSL:

```typescript
const activeTodos = await db.query('todos', {
  filters: [['completed', '=', false]],
  sort: 'due_date asc'
})
```

### 3. Database Abstraction

ObjectQL translates your queries to optimized SQL for the target database, handling dialect differences automatically.

## Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Application Layer               â”‚
â”‚    (Your Business Logic)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ ObjectQL API
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ObjectQL Engine                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Schema   â”‚   Query Processor    â”‚  â”‚
â”‚  â”‚  Registry  â”‚   & Optimizer        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Virtual City Manager          â”‚  â”‚
â”‚  â”‚    (Multi-tenant Isolation)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Driver Abstraction
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Database Drivers                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚SQLiteâ”‚MySQL â”‚Postgresâ”‚Oracleâ”‚SQL â”‚  â”‚
â”‚  â”‚      â”‚      â”‚        â”‚      â”‚Serverâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Use Cases

### Local-First Applications

Use SQLite for personal applications:

```typescript
const db = new ObjectQL({
  driver: 'sqlite',
  url: './data/myapp.db'
})
```

### Enterprise Systems

Connect to existing databases:

```typescript
const db = new ObjectQL({
  driver: 'mysql',
  url: 'mysql://user:pass@localhost:3306/mydb'
})
```

### Multi-Tenant SaaS

Leverage Virtual City for tenant isolation:

```typescript
const tenantDb = db.virtualCity('tenant_123')
const data = await tenantDb.query('customers', {})
```

## What You'll Learn

In this section, you will discover:

- âœ… **Core Concepts** - Understanding Schema and Virtual City mechanism
- âœ… **Protocol Specification** - Schema definition, Query DSL, and Aggregations
- âœ… **Core Features** - Virtual Column Index, driver adaptation, and optimizations
- âœ… **Server SDK** - Complete API reference with practical examples

## Getting Started

Ready to dive in? Start with:

1. **[Core Concepts](/docs/02-objectql/core-concepts)** - Understand the fundamental concepts
2. **[Protocol Spec](/docs/02-objectql/protocol-spec)** - Learn the schema and query language
3. **[Core Features](/docs/02-objectql/core-features)** - Explore advanced features
4. **[Server SDK](/docs/02-objectql/server-sdk)** - Master the API

## Quick Example

Here's a complete example to get you started:

```typescript
import { ObjectQL } from '@objectql/core'

// 1. Initialize ObjectQL
const db = new ObjectQL({
  driver: 'sqlite',
  url: './myapp.db'
})

// 2. Define Schema
await db.registerSchema({
  objects: {
    tasks: {
      fields: {
        name: { type: 'text', required: true },
        status: { type: 'select', options: ['todo', 'done'] },
        priority: { type: 'number' }
      }
    }
  }
})

// 3. Insert Data
await db.mutation('tasks', {
  action: 'insert',
  data: { name: 'Learn ObjectQL', status: 'todo', priority: 1 }
})

// 4. Query Data
const tasks = await db.query('tasks', {
  filters: [['status', '=', 'todo']],
  sort: 'priority desc'
})

console.log(tasks) // [{ name: 'Learn ObjectQL', status: 'todo', priority: 1 }]
```

## Next Steps

Begin your ObjectQL journey:

- **New to ObjectQL?** Start with [Core Concepts](/docs/02-objectql/core-concepts)
- **Want to see the full API?** Jump to [Server SDK](/docs/02-objectql/server-sdk)
- **Need specific features?** Check [Core Features](/docs/02-objectql/core-features)
