---
title: API Request
description: Make HTTP requests
---

# API Request

Make HTTP requests to backend endpoints.

## Protocol

```typescript
{
  type: 'api',
  api: string,                // API endpoint
  method?: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE',
  data?: object | string,     // Request body (template supported)
  headers?: object,           // Request headers
  confirm?: string,           // Confirmation message
  onSuccess?: Action,         // Success handler
  onError?: Action,           // Error handler
}
```

## Examples

### Basic Request

```json
{
  "type": "button",
  "label": "Save",
  "onClick": {
    "type": "api",
    "api": "/api/users/${userId}",
    "method": "PUT",
    "data": "${formData}",
    "confirm": "Save changes?",
    "onSuccess": {
      "type": "toast",
      "message": "Saved successfully!"
    }
  }
}
```

### DELETE with Confirmation

```json
{
  "type": "api",
  "api": "/api/users/${id}",
  "method": "DELETE",
  "confirm": "Are you sure you want to delete this user?",
  "onSuccess": [
    { "type": "toast", "message": "User deleted" },
    { "type": "reload" }
  ],
  "onError": {
    "type": "toast",
    "message": "Failed to delete user",
    "variant": "error"
  }
}
```

### POST with Custom Headers

```json
{
  "type": "api",
  "api": "/api/upload",
  "method": "POST",
  "headers": {
    "Content-Type": "multipart/form-data"
  },
  "data": "${fileData}"
}
```

## HTTP Methods

- **GET** - Retrieve data
- **POST** - Create new resources
- **PUT** - Update entire resources
- **PATCH** - Partial updates
- **DELETE** - Remove resources

## Template Variables

Use template syntax in `api`, `data`, and other string fields:

```json
{
  "api": "/api/users/${userId}/posts/${postId}",
  "data": {
    "title": "${formData.title}",
    "content": "${formData.content}"
  }
}
```

## Action Chaining

Chain multiple actions on success or error:

```json
{
  "type": "api",
  "api": "/api/submit",
  "method": "POST",
  "onSuccess": [
    { "type": "toast", "message": "Success!" },
    { "type": "navigate", "url": "/dashboard" }
  ]
}
```

## Confirmation Dialogs

Add a confirmation prompt before executing:

```json
{
  "type": "api",
  "api": "/api/delete-all",
  "method": "POST",
  "confirm": "This will delete all data. Are you sure?"
}
```

## Related

- **[Form](/docs/03-objectui/container-components/form)** - Form submission
- **[Toast](/docs/03-objectui/actions/toast)** - User feedback
- **[Navigate](/docs/03-objectui/actions/navigate)** - Redirect after API calls
