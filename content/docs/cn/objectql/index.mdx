---
title: ObjectQL åè®®è§„èŒƒ
description: æ•°æ®åº“æ— å…³çš„æ•°æ®åè®®å¼•æ“ - æ¨¡å¼å®šä¹‰ã€æŸ¥è¯¢ DSL å’Œé©±åŠ¨æŠ½è±¡
---

# ObjectQLï¼šæ•°æ®åè®®å¼•æ“

ObjectQL æ˜¯ ObjectStack æ ¸å¿ƒçš„**æ•°æ®åº“æ— å…³æŸ¥è¯¢å¼•æ“**ã€‚å®ƒå®šä¹‰äº†ä¸€ç§åŸºäº JSON çš„é€šç”¨åè®®ï¼Œç”¨äºæ¨¡å¼å®šä¹‰ã€æ•°æ®æŸ¥è¯¢å’Œå˜æ›´ï¼Œå¯ç¼–è¯‘ä¸ºä»»ä½•æ”¯æŒæ•°æ®åº“çš„åŸç”Ÿ SQLã€‚

## è§„èŒƒæ¦‚è¿°

ObjectQL **ä¸æ˜¯æ•°æ®åº“**â€”â€”å®ƒæ˜¯ä¸€ä¸ª**åè®®è§„èŒƒ**åŠå…¶å‚è€ƒå®ç°ã€‚è¯¥åè®®å®šä¹‰ï¼š

1. **æ¨¡å¼å®šä¹‰è¯­è¨€**ï¼šåŸºäº JSON çš„æ•°æ®æ¨¡å‹å£°æ˜
2. **æŸ¥è¯¢ DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰**ï¼šCRUD æ“ä½œçš„ç»Ÿä¸€è¯­æ³•
3. **AST ç¼–è¯‘**ï¼šæ•°æ®åº“æ— å…³æŸ¥è¯¢çš„æŠ½è±¡è¯­æ³•æ ‘
4. **é©±åŠ¨æ¥å£**ï¼šæ•°æ®åº“å¼•æ“çš„æ ‡å‡†é€‚é…å™¨å¥‘çº¦

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

**åè®®ä¸­ç«‹æ€§**ï¼šObjectQL è§„èŒƒä¸å®ç°æ— å…³ã€‚åŒä¸€åè®®å¯ç”±ä»¥ä¸‹å¼•æ“æ‰§è¡Œï¼š
- JavaScript å¼•æ“ï¼ˆNode.jsï¼‰
- Python å¼•æ“ï¼ˆè®¡åˆ’ä¸­ï¼‰
- Java å¼•æ“ï¼ˆè®¡åˆ’ä¸­ï¼‰
- Go å¼•æ“ï¼ˆè®¡åˆ’ä¸­ï¼‰

**æ•°æ®åº“æ— å…³**ï¼šåè®®ä»ä¸å‡å®šç‰¹å®šæ•°æ®åº“ã€‚åƒ"JSONB"ï¼ˆPostgreSQLï¼‰æˆ–"ROWNUM"ï¼ˆOracleï¼‰è¿™æ ·çš„æ¦‚å¿µä¸å­˜åœ¨äºåè®®å±‚â€”â€”å®ƒä»¬ç”±ç‰¹å®šæ–¹è¨€çš„è½¬è¯‘å™¨å¤„ç†ã€‚

**æœºåˆ¶ï¼Œè€Œéç­–ç•¥**ï¼šObjectQL å®šä¹‰*å¦‚ä½•æè¿°æ•°æ®æ“ä½œ*ï¼Œè€Œé*å¦‚ä½•å®ç°*å®ƒä»¬ã€‚ç”¨æˆ·è®¤è¯ã€éªŒè¯é€»è¾‘å’Œä¸šåŠ¡è§„åˆ™å±äº ObjectOSã€‚

---

## åè®®æ¶æ„

```mermaid
sequenceDiagram
    participant App as åº”ç”¨ç¨‹åº
    participant Engine as ObjectQL å¼•æ“
    participant AST as AST ç¼–è¯‘å™¨
    participant Transpiler as æ–¹è¨€è½¬è¯‘å™¨
    participant Driver as æ•°æ®åº“é©±åŠ¨
    participant DB as æ•°æ®åº“

    App->>Engine: æŸ¥è¯¢åè®® (JSON)
    Engine->>AST: è§£æä¸º AST
    AST->>Transpiler: ç¼–è¯‘ AST
    Transpiler->>Driver: æ•°æ®åº“ç‰¹å®š SQL
    Driver->>DB: æ‰§è¡ŒæŸ¥è¯¢
    DB-->>Driver: ç»“æœé›†
    Driver-->>Engine: æ ‡å‡†åŒ–å“åº”
    Engine-->>App: æ ‡å‡† JSON å“åº”
```

### åè®®æµç¨‹

1. **åè®®è¾“å…¥**ï¼šåº”ç”¨ç¨‹åºå‘é€ JSON æŸ¥è¯¢åè®®
2. **AST è§£æ**ï¼šå¼•æ“å°†åè®®è§£æä¸ºæŠ½è±¡è¯­æ³•æ ‘
3. **æ–¹è¨€ç¼–è¯‘**ï¼šAST ç¼–è¯‘ä¸ºç‰¹å®šæ•°æ®åº“çš„ SQL
4. **é©±åŠ¨æ‰§è¡Œ**ï¼šé©±åŠ¨æ‰§è¡ŒåŸç”Ÿ SQL
5. **å“åº”æ ‡å‡†åŒ–**ï¼šç»“æœæ ‡å‡†åŒ–ä¸ºåè®®æ ¼å¼
6. **åè®®è¾“å‡º**ï¼šåº”ç”¨ç¨‹åºæ¥æ”¶ä¸€è‡´çš„ JSON å“åº”

è¿™ç§æ¶æ„ç¡®ä¿**å®Œå…¨çš„æ•°æ®åº“ç‹¬ç«‹æ€§**â€”â€”ä» MySQL åˆ‡æ¢åˆ° PostgreSQL æ— éœ€æ›´æ”¹ä»»ä½•åº”ç”¨ä»£ç ã€‚

---

## æ ¸å¿ƒåè®®ç»„ä»¶

### 1. æ¨¡å¼å®šä¹‰åè®®

å°†æ•°æ®ç»“æ„å®šä¹‰ä¸ºå£°æ˜å¼ JSON è§„èŒƒï¼š

```typescript
interface ObjectSchema {
  name: string                    // å¯¹è±¡æ ‡è¯†ç¬¦
  label?: string                  // äººç±»å¯è¯»åç§°
  fields: Record<string, Field>   // å­—æ®µå®šä¹‰
  indexes?: Index[]               // æ€§èƒ½ç´¢å¼•
  triggers?: Trigger[]            // ç”Ÿå‘½å‘¨æœŸé’©å­
  permission_set?: PermissionSet  // è®¿é—®æ§åˆ¶è§„åˆ™
}

interface Field {
  type: FieldType                 // æ•°æ®ç±»å‹
  label?: string                  // æ˜¾ç¤ºåç§°
  required?: boolean              // éªŒè¯è§„åˆ™
  unique?: boolean                // å”¯ä¸€æ€§çº¦æŸ
  defaultValue?: any              // é»˜è®¤å€¼
  reference_to?: string           // å…³ç³»ç›®æ ‡ï¼ˆç”¨äºæŸ¥æ‰¾/ä¸»ä»å…³ç³»ï¼‰
  formula?: string                // è®¡ç®—å­—æ®µè¡¨è¾¾å¼
}

type FieldType = 
  | 'text' | 'textarea' | 'number' | 'currency' | 'percent'
  | 'date' | 'datetime' | 'time' 
  | 'boolean' | 'select' | 'multiselect'
  | 'lookup' | 'master_detail'
  | 'url' | 'email' | 'phone'
  | 'autonumber' | 'formula'
```

**ç¤ºä¾‹æ¨¡å¼**ï¼š
```json
{
  "objects": {
    "orders": {
      "label": "é”€å”®è®¢å•",
      "fields": {
        "order_number": { 
          "type": "autonumber", 
          "format": "ORD-{0000}" 
        },
        "customer": { 
          "type": "lookup", 
          "reference_to": "customers",
          "required": true
        },
        "order_date": { 
          "type": "date", 
          "defaultValue": "{{$now}}" 
        },
        "total_amount": { 
          "type": "currency", 
          "precision": 2 
        },
        "status": { 
          "type": "select", 
          "options": ["draft", "confirmed", "shipped", "delivered"]
        }
      },
      "indexes": [
        { "fields": ["customer", "order_date"] },
        { "fields": ["status", "order_date"] }
      ]
    }
  }
}
```

æ­¤æ¨¡å¼æ˜¯**æ•°æ®åº“æ— å…³çš„**ã€‚ObjectQL å°†ç”Ÿæˆï¼š
- **MySQL**ï¼šå¸¦æœ‰ `INT AUTO_INCREMENT`ã€`VARCHAR`ã€`DECIMAL`ã€`ENUM` çš„ `CREATE TABLE`
- **PostgreSQL**ï¼šå¸¦æœ‰ `SERIAL`ã€`VARCHAR`ã€`NUMERIC`ã€`TEXT`ï¼ˆå¸¦æ£€æŸ¥çº¦æŸï¼‰çš„ `CREATE TABLE`
- **Oracle**ï¼šå¸¦æœ‰ `NUMBER` åºåˆ—è§¦å‘å™¨ã€`VARCHAR2`ã€`NUMBER`ã€`VARCHAR2`ï¼ˆå¸¦æ£€æŸ¥çº¦æŸï¼‰çš„ `CREATE TABLE`
- **SQLite**ï¼šå¸¦æœ‰ `INTEGER PRIMARY KEY`ã€`TEXT`ã€`REAL`ã€`TEXT`ï¼ˆå¸¦æ£€æŸ¥çº¦æŸï¼‰çš„ `CREATE TABLE`

### 2. æŸ¥è¯¢åè®®ï¼ˆDSLï¼‰

æ‰€æœ‰æ•°æ®æ“ä½œçš„ç»Ÿä¸€ JSON è¯­æ³•ï¼š

```typescript
interface QueryProtocol {
  object: string                  // ç›®æ ‡å¯¹è±¡åç§°
  fields?: string[]               // è¦è¿”å›çš„å­—æ®µï¼ˆé»˜è®¤ï¼šå…¨éƒ¨ï¼‰
  filters?: FilterExpression      // WHERE å­å¥
  sort?: string | SortExpression  // ORDER BY å­å¥
  top?: number                    // LIMIT å­å¥
  skip?: number                   // OFFSET å­å¥
  related?: RelatedQuery[]        // JOIN/å­æŸ¥è¯¢å±•å¼€
}

type FilterExpression = Filter | CompoundFilter

interface Filter {
  field: string
  operator: Operator
  value: any
}

type Operator = 
  | 'eq' | 'ne' | 'lt' | 'lte' | 'gt' | 'gte'
  | 'startswith' | 'endswith' | 'contains' | 'notcontains'
  | 'in' | 'notin' | 'between'
  | 'isnull' | 'isnotnull'

interface CompoundFilter {
  and?: FilterExpression[]
  or?: FilterExpression[]
}
```

**ç¤ºä¾‹æŸ¥è¯¢**ï¼š

```json
// ç®€å•æŸ¥è¯¢
{
  "object": "orders",
  "fields": ["order_number", "customer", "total_amount"],
  "filters": {
    "and": [
      { "field": "status", "operator": "eq", "value": "confirmed" },
      { "field": "order_date", "operator": "gte", "value": "2024-01-01" }
    ]
  },
  "sort": "order_date desc",
  "top": 50
}

// å¸¦å…³ç³»çš„æŸ¥è¯¢
{
  "object": "orders",
  "fields": ["order_number", "total_amount"],
  "filters": {
    "field": "customer.country", 
    "operator": "eq", 
    "value": "USA"
  },
  "related": [
    {
      "object": "order_items",
      "foreign_key": "order_id",
      "fields": ["product", "quantity", "unit_price"]
    }
  ]
}
```

### 3. å˜æ›´åè®®

æ•°æ®ä¿®æ”¹çš„æ ‡å‡†åŒ–æ“ä½œï¼š

```typescript
interface MutationProtocol {
  object: string
  action: 'insert' | 'update' | 'delete'
  data?: Record<string, any>      // ç”¨äº insert/update
  filters?: FilterExpression      // ç”¨äº update/delete
}
```

**ç¤ºä¾‹å˜æ›´**ï¼š

```json
// æ’å…¥
{
  "object": "orders",
  "action": "insert",
  "data": {
    "customer": "CUST-001",
    "order_date": "2024-03-15",
    "total_amount": 1250.00,
    "status": "confirmed"
  }
}

// æ‰¹é‡æ›´æ–°
{
  "object": "orders",
  "action": "update",
  "filters": {
    "and": [
      { "field": "status", "operator": "eq", "value": "confirmed" },
      { "field": "order_date", "operator": "lt", "value": "2024-01-01" }
    ]
  },
  "data": {
    "status": "archived"
  }
}

// æ¡ä»¶åˆ é™¤
{
  "object": "orders",
  "action": "delete",
  "filters": {
    "field": "status",
    "operator": "eq",
    "value": "cancelled"
  }
}
```

---

## æ•°æ®åº“é©±åŠ¨æ¥å£

ObjectQL å®šä¹‰äº†æ‰€æœ‰æ•°æ®åº“é€‚é…å™¨å¿…é¡»å®ç°çš„**æ ‡å‡†åŒ–é©±åŠ¨å¥‘çº¦**ï¼š

```typescript
interface ObjectQLDriver {
  // è¿æ¥ç®¡ç†
  connect(config: ConnectionConfig): Promise<Connection>
  disconnect(): Promise<void>
  
  // æ¨¡å¼æ“ä½œ
  createTable(schema: ObjectSchema): Promise<void>
  alterTable(schema: ObjectSchema, changes: SchemaChange[]): Promise<void>
  dropTable(objectName: string): Promise<void>
  
  // æŸ¥è¯¢æ“ä½œ
  query(protocol: QueryProtocol): Promise<QueryResult>
  
  // å˜æ›´æ“ä½œ
  insert(protocol: MutationProtocol): Promise<MutationResult>
  update(protocol: MutationProtocol): Promise<MutationResult>
  delete(protocol: MutationProtocol): Promise<MutationResult>
  
  // äº‹åŠ¡ç®¡ç†
  beginTransaction(): Promise<Transaction>
  commit(transaction: Transaction): Promise<void>
  rollback(transaction: Transaction): Promise<void>
  
  // æ–¹è¨€ç‰¹å®šç¼–è¯‘
  compileAST(ast: ASTNode): string  // è¿”å›åŸç”Ÿ SQL
}
```

### æ”¯æŒçš„é©±åŠ¨

å®˜æ–¹å‚è€ƒå®ç°ï¼š

| é©±åŠ¨ | çŠ¶æ€ | ç”¨ä¾‹ |
|------|------|------|
| **@objectql/driver-sqlite** | âœ… ç¨³å®š | æœ¬åœ°ä¼˜å…ˆåº”ç”¨ã€å¼€å‘ã€è¾¹ç¼˜è®¡ç®— |
| **@objectql/driver-mysql** | âœ… ç¨³å®š | Web åº”ç”¨ã€äº‘éƒ¨ç½² |
| **@objectql/driver-postgres** | âœ… ç¨³å®š | ä¼ä¸šç³»ç»Ÿã€åˆ†æå·¥ä½œè´Ÿè½½ |
| **@objectql/driver-oracle** | ğŸš§ æµ‹è¯•ç‰ˆ | é—ç•™ç³»ç»Ÿé›†æˆ |
| **@objectql/driver-sqlserver** | ğŸš§ æµ‹è¯•ç‰ˆ | Microsoft æŠ€æœ¯æ ˆé›†æˆ |

æ¬¢è¿ç¤¾åŒºé©±åŠ¨â€”â€”å®ç° `ObjectQLDriver` æ¥å£å¹¶ä½œä¸º npm åŒ…å‘å¸ƒã€‚

---

## é«˜çº§åŠŸèƒ½

### è™šæ‹ŸåŸå¸‚ï¼ˆå¤šç§Ÿæˆ·ï¼‰

ObjectQL é€šè¿‡è™šæ‹ŸåŸå¸‚æœºåˆ¶æä¾›**åè®®çº§å¤šç§Ÿæˆ·**ï¼š

```typescript
// æ¯ä¸ªç§Ÿæˆ·è·å¾—éš”ç¦»çš„æ•°æ®ä¸Šä¸‹æ–‡
const tenant1DB = engine.virtualCity('tenant_001')
const tenant2DB = engine.virtualCity('tenant_002')

// ç›¸åŒçš„æŸ¥è¯¢ï¼Œéš”ç¦»çš„æ•°æ®
await tenant1DB.query('customers', {})  // è¿”å› tenant_001 çš„å®¢æˆ·
await tenant2DB.query('customers', {})  // è¿”å› tenant_002 çš„å®¢æˆ·
```

**å®ç°**ï¼šè™šæ‹ŸåŸå¸‚æ˜¯é©±åŠ¨çº§åŠŸèƒ½ã€‚MySQL/PostgreSQL å®ç°ä½¿ç”¨æ¨¡å¼åˆ†ç¦»ï¼ŒSQLite ä½¿ç”¨å•ç‹¬çš„æ•°æ®åº“æ–‡ä»¶ã€‚

### è™šæ‹Ÿåˆ—ç´¢å¼•ï¼ˆæ€§èƒ½ï¼‰

å¯¹äºç¼ºå°‘åŸç”Ÿ JSON ç´¢å¼•çš„æ•°æ®åº“ï¼ˆä¾‹å¦‚ SQLiteï¼‰ï¼ŒObjectQL æä¾›è™šæ‹Ÿåˆ—ç´¢å¼•ï¼š

```json
{
  "objects": {
    "products": {
      "fields": {
        "metadata": { "type": "text" }  // å­˜å‚¨ JSON
      },
      "virtual_indexes": [
        { 
          "name": "idx_price",
          "expression": "JSON_EXTRACT(metadata, '$.price')",
          "type": "number"
        }
      ]
    }
  }
}
```

ObjectQL è‡ªåŠ¨åˆ›å»ºç´¢å¼•è™šæ‹Ÿåˆ—ä»¥å®ç°é«˜æ€§èƒ½æŸ¥è¯¢ã€‚

### å…¬å¼å­—æ®µ

åœ¨æ¨¡å¼ä¸­å®šä¹‰çš„è®¡ç®—å­—æ®µï¼š

```json
{
  "fields": {
    "quantity": { "type": "number" },
    "unit_price": { "type": "currency" },
    "line_total": { 
      "type": "formula",
      "formula": "quantity * unit_price",
      "return_type": "currency"
    }
  }
}
```

å…¬å¼å­—æ®µæ˜¯**æ•°æ®åº“æ— å…³çš„è¡¨è¾¾å¼**ï¼Œç¼–è¯‘ä¸º SQL `GENERATED` åˆ—ï¼ˆPostgreSQL/MySQLï¼‰æˆ–åœ¨å†…å­˜ä¸­è®¡ç®—ï¼ˆSQLiteï¼‰ã€‚

### èšåˆåè®®

å¸¦åˆ†ç»„çš„ç»Ÿè®¡æŸ¥è¯¢ï¼š

```json
{
  "object": "orders",
  "aggregations": [
    { "field": "total_amount", "function": "sum", "alias": "revenue" },
    { "field": "order_number", "function": "count", "alias": "order_count" }
  ],
  "groupBy": ["customer", "status"],
  "filters": {
    "field": "order_date",
    "operator": "gte",
    "value": "2024-01-01"
  }
}
```

ç¼–è¯‘ä¸ºè·¨æ‰€æœ‰æ•°æ®åº“çš„ `GROUP BY` æŸ¥è¯¢å’Œé€‚å½“çš„èšåˆå‡½æ•°ã€‚

---

## ä½¿ç”¨åœºæ™¯

### 1. æœ¬åœ°ä¼˜å…ˆåº”ç”¨

**åœºæ™¯**ï¼šä¸ªäººç”Ÿäº§åŠ›å·¥å…·ï¼ˆç¬”è®°ã€CRMã€é¡¹ç›®ç®¡ç†ï¼‰

**é…ç½®**ï¼š
```typescript
import { ObjectQL } from '@objectql/core'
import { SQLiteDriver } from '@objectql/driver-sqlite'

const engine = new ObjectQL({
  driver: new SQLiteDriver({
    database: './myapp.db'
  })
})
```

**ä¼˜åŠ¿**ï¼š
- é›¶æœåŠ¡å™¨åŸºç¡€è®¾æ–½
- å®Œå…¨ç¦»çº¿èƒ½åŠ›
- æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° .db æ–‡ä»¶ä¸­
- ä»¥åå¯å‡çº§åˆ°äº‘æ•°æ®åº“è€Œæ— éœ€æ›´æ”¹ä»£ç 

### 2. ä¼ä¸šç³»ç»Ÿé›†æˆ

**åœºæ™¯**ï¼šå¼‚æ„é—ç•™æ•°æ®åº“ä¸Šçš„ç»Ÿä¸€ API

**é…ç½®**ï¼š
```typescript
// è¿æ¥åˆ°ç°æœ‰çš„ Oracle ERP æ•°æ®åº“
const erpDB = new ObjectQL({
  driver: new OracleDriver({
    host: 'oracle.company.com',
    database: 'ERP_PROD'
  })
})

// è¿æ¥åˆ° SQL Server CRM æ•°æ®åº“
const crmDB = new ObjectQL({
  driver: new SQLServerDriver({
    host: 'sqlserver.company.com',
    database: 'CRM_PROD'
  })
})

// ä¸¤è€…ç»Ÿä¸€çš„ ObjectQL API
const erpCustomers = await erpDB.query('customers', {})
const crmLeads = await crmDB.query('leads', {})
```

**ä¼˜åŠ¿**ï¼š
- æ‰€æœ‰ç³»ç»Ÿçš„å•ä¸€æŸ¥è¯¢è¯­è¨€
- æ¯ä¸ªæ•°æ®åº“æ— éœ€è‡ªå®šä¹‰é›†æˆä»£ç 
- ä¸€è‡´çš„é”™è¯¯å¤„ç†å’ŒéªŒè¯
- æ›´æ˜“äºç»´æŠ¤å’Œæµ‹è¯•

### 3. å¤šç§Ÿæˆ· SaaS å¹³å°

**åœºæ™¯**ï¼šå…·æœ‰ç§Ÿæˆ·éš”ç¦»çš„ SaaS åº”ç”¨

**é…ç½®**ï¼š
```typescript
const engine = new ObjectQL({
  driver: new PostgreSQLDriver({
    host: 'postgres.cloud.com',
    database: 'saas_platform'
  }),
  multiTenant: true
})

// æ¯ä¸ªç§Ÿæˆ·è·å¾—éš”ç¦»çš„ä¸Šä¸‹æ–‡
app.use(async (req, res, next) => {
  const tenantId = req.headers['x-tenant-id']
  req.db = engine.virtualCity(tenantId)
  next()
})

// è‡ªåŠ¨æ•°æ®éš”ç¦»
router.get('/api/orders', async (req, res) => {
  const orders = await req.db.query('orders', {})
  res.json(orders)  // ä»…è¿”å›ç§Ÿæˆ·çš„è®¢å•
})
```

**ä¼˜åŠ¿**ï¼š
- åè®®çº§ç§Ÿæˆ·éš”ç¦»
- æ•°æ®éš”ç¦»æ— éœ€ä¸šåŠ¡é€»è¾‘
- å¯æ‰©å±•åˆ°æ¯ç§Ÿæˆ·æ¨¡å¼æˆ–æ¯ç§Ÿæˆ·æ•°æ®åº“
- ObjectQL è‡ªåŠ¨å¤„ç†è·¯ç”±

---

## æ‚¨å°†å­¦åˆ°ä»€ä¹ˆ

æœ¬è§„èŒƒæ–‡æ¡£æ¶µç›–ï¼š

- âœ… **[æ ¸å¿ƒæ¦‚å¿µ](/docs/objectql/core-concepts)** - æ¨¡å¼ã€è™šæ‹ŸåŸå¸‚ã€æ•°æ®ç±»å‹ã€å…³ç³»
- âœ… **[åè®®è§„èŒƒ](/docs/objectql/protocol-spec)** - æŸ¥è¯¢ã€å˜æ›´ã€èšåˆçš„å®Œæ•´ JSON æ¨¡å¼å‚è€ƒ
- âœ… **[é©±åŠ¨å¼€å‘](/docs/objectql/driver-dev)** - å®ç°è‡ªå®šä¹‰æ•°æ®åº“é€‚é…å™¨
- âœ… **[æœåŠ¡ç«¯ SDK](/docs/objectql/server-sdk)** - å‚è€ƒå®ç° APIï¼ˆJavaScript/Node.jsï¼‰
- âœ… **[æ€§èƒ½æŒ‡å—](/docs/objectql/performance)** - ä¼˜åŒ–ç­–ç•¥ã€ç´¢å¼•ã€æŸ¥è¯¢åˆ†æ

---

## å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç«¯åˆ°ç«¯ç¤ºä¾‹ï¼š

```typescript
import { ObjectQL } from '@objectql/core'
import { SQLiteDriver } from '@objectql/driver-sqlite'

// 1. åˆå§‹åŒ–å¼•æ“
const engine = new ObjectQL({
  driver: new SQLiteDriver({ database: './todo.db' })
})

// 2. æ³¨å†Œæ¨¡å¼
await engine.registerSchema({
  objects: {
    tasks: {
      fields: {
        title: { type: 'text', required: true },
        completed: { type: 'boolean', defaultValue: false },
        priority: { type: 'select', options: ['high', 'medium', 'low'] },
        due_date: { type: 'date' }
      }
    }
  }
})

// 3. æ’å…¥æ•°æ®
await engine.insert({
  object: 'tasks',
  action: 'insert',
  data: { 
    title: 'å­¦ä¹  ObjectQL', 
    priority: 'high',
    due_date: '2024-12-31'
  }
})

// 4. æŸ¥è¯¢æ•°æ®
const urgentTasks = await engine.query({
  object: 'tasks',
  filters: {
    and: [
      { field: 'completed', operator: 'eq', value: false },
      { field: 'priority', operator: 'eq', value: 'high' }
    ]
  },
  sort: 'due_date asc'
})

console.log(urgentTasks)
// [{ title: 'å­¦ä¹  ObjectQL', priority: 'high', completed: false, due_date: '2024-12-31' }]

// 5. åˆ‡æ¢åˆ° PostgreSQLï¼ˆé›¶ä»£ç æ›´æ”¹ï¼‰
const prodEngine = new ObjectQL({
  driver: new PostgreSQLDriver({ 
    url: 'postgresql://localhost/production' 
  })
})

// ç›¸åŒçš„æ¨¡å¼ï¼Œç›¸åŒçš„æŸ¥è¯¢ï¼Œä¸åŒçš„æ•°æ®åº“
await prodEngine.registerSchema(schema)
const sameTasks = await prodEngine.query(queryProtocol)
```

---

## è®¾è®¡ç†ç”±

### ä¸ºä»€ä¹ˆä½¿ç”¨ JSON åè®®ï¼Ÿ

**TypeScript/JavaScript SDK æ˜¯å®ç°ç»†èŠ‚**ã€‚çœŸæ­£çš„ API æ˜¯ JSON åè®®ï¼š

- **è¯­è¨€æ— å…³**ï¼šPythonã€Javaã€Go éƒ½å¯ä»¥å®ç° ObjectQL
- **ç½‘ç»œé€æ˜**ï¼šåè®®å¯é€šè¿‡ HTTPã€WebSocketsã€gRPC å‘é€
- **å¯ç‰ˆæœ¬åŒ–**ï¼šåè®®æ˜¯ç»“æ„åŒ–æ•°æ®ï¼Œå¯è¿›è¡Œå·®å¼‚æ¯”è¾ƒå’Œç‰ˆæœ¬æ§åˆ¶
- **AI å‹å¥½**ï¼šLLM å¯ä»¥è½»æ¾ç”Ÿæˆå’Œä¿®æ”¹ JSON åè®®

### ä¸ºä»€ä¹ˆä½¿ç”¨ AST ç¼–è¯‘ï¼Ÿ

**ç›´æ¥ SQL æ¨¡æ¿åŒ–æ—¢è„†å¼±åˆä¸å®‰å…¨**ã€‚AST ç¼–è¯‘æä¾›ï¼š

- **SQL æ³¨å…¥ä¿æŠ¤**ï¼šAST çº§åˆ«çš„å‚æ•°åŒ–æŸ¥è¯¢
- **æ–¹è¨€æŠ½è±¡**ï¼šå•ä¸€ AST ç¼–è¯‘ä¸ºä»»ä½• SQL æ–¹è¨€
- **æŸ¥è¯¢ä¼˜åŒ–**ï¼šAST å¯åœ¨æ‰§è¡Œå‰è¿›è¡Œåˆ†æå’Œä¼˜åŒ–
- **ä¸€è‡´çš„è¯­ä¹‰**ï¼šè·¨æ‰€æœ‰æ•°æ®åº“çš„ç›¸åŒæŸ¥è¯¢è¡Œä¸º

### ä¸ºä»€ä¹ˆä½¿ç”¨é©±åŠ¨æŠ½è±¡ï¼Ÿ

**æ•°æ®åº“ API ä¸ä¸€è‡´**ã€‚é©±åŠ¨æ¥å£æä¾›ï¼š

- **ç»Ÿä¸€é”™è¯¯å¤„ç†**ï¼šè·¨æ•°æ®åº“çš„ä¸€è‡´é”™è¯¯ç±»å‹
- **è¿æ¥æ± **ï¼šæ— è®ºé©±åŠ¨å¦‚ä½•ï¼Œæ ‡å‡†çš„æ± ç®¡ç†
- **äº‹åŠ¡è¯­ä¹‰**ï¼šä¸€è‡´ API çš„ ACID ä¿è¯
- **æµ‹è¯•**ï¼šæ— éœ€æ•°æ®åº“çš„å•å…ƒæµ‹è¯• mock é©±åŠ¨

---

## è§„èŒƒåˆè§„æ€§

ObjectQL å®ç°å¿…é¡»é€šè¿‡ **ObjectQL åˆè§„æ€§æµ‹è¯•å¥—ä»¶**ï¼š

- âœ… æ¨¡å¼å®šä¹‰è§£æå’ŒéªŒè¯
- âœ… æ‰€æœ‰è¿ç®—ç¬¦çš„æŸ¥è¯¢åè®®æ‰§è¡Œ
- âœ… insert/update/delete çš„å˜æ›´åè®®
- âœ… å…³ç³»æŸ¥è¯¢ï¼ˆæŸ¥æ‰¾ã€ä¸»ä»å…³ç³»ï¼‰
- âœ… å¸¦åˆ†ç»„çš„èšåˆæŸ¥è¯¢
- âœ… äº‹åŠ¡ç®¡ç†ï¼ˆACIDï¼‰
- âœ… è™šæ‹ŸåŸå¸‚å¤šç§Ÿæˆ·éš”ç¦»
- âœ… é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼

å‚è€ƒå®ç°ï¼š
- **JavaScript**ï¼š[@objectql/core](https://github.com/objectstack-ai/objectql)ï¼ˆNode.jsï¼‰
- **Python**ï¼š[objectql-py](https://github.com/objectstack-ai/objectql-py)ï¼ˆè®¡åˆ’ä¸­ï¼‰
- **Go**ï¼š[objectql-go](https://github.com/objectstack-ai/objectql-go)ï¼ˆè®¡åˆ’ä¸­ï¼‰

---

## ä¸‹ä¸€æ­¥

1. **ç†è§£æ ¸å¿ƒæ¦‚å¿µ**ï¼šé˜…è¯»[æ ¸å¿ƒæ¦‚å¿µ](/docs/objectql/core-concepts)äº†è§£æ¨¡å¼ã€å…³ç³»å’Œè™šæ‹ŸåŸå¸‚
2. **å­¦ä¹ åè®®**ï¼šæŸ¥çœ‹[åè®®è§„èŒƒ](/docs/objectql/protocol-spec)è·å–å®Œæ•´çš„ JSON æ¨¡å¼å‚è€ƒ
3. **ä½¿ç”¨ SDK æ„å»º**ï¼šä½¿ç”¨[æœåŠ¡ç«¯ SDK](/docs/objectql/server-sdk)åœ¨åº”ç”¨ä¸­é›†æˆ ObjectQL
4. **ä¼˜åŒ–æ€§èƒ½**ï¼šæ¢ç´¢[æ€§èƒ½æŒ‡å—](/docs/objectql/performance)è·å–ç”Ÿäº§æœ€ä½³å®è·µ

æœ‰å…³å“²å­¦èƒŒæ™¯ï¼Œè¯·å‚è§ï¼š
- **[å®£è¨€](/docs/framework/manifesto)** - ä¸ºä»€ä¹ˆ ObjectQL æ˜¯åè®®é©±åŠ¨å’Œæ•°æ®åº“æ— å…³çš„
- **[æ¶æ„](/docs/framework/architecture)** - ObjectQL å¦‚ä½•èå…¥ ObjectStack ç”Ÿæ€ç³»ç»Ÿ
