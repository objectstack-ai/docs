---
title: ObjectQL - æ•°æ®å¼•æ“
description: å¼ºå¤§çš„æ•°æ®å¼•æ“,æä¾› Schema é©±åŠ¨æ¶æ„å’Œè·¨æ•°æ®åº“æ”¯æŒ
---

# ObjectQL - æ•°æ®å¼•æ“

ObjectQL æ˜¯ ObjectStack çš„æ ¸å¿ƒæ•°æ®å¼•æ“,æä¾›ç»Ÿä¸€çš„æ•°æ®è®¿é—®å±‚,å…·æœ‰ Schema é©±åŠ¨æ¶æ„ã€å¼ºå¤§çš„æŸ¥è¯¢èƒ½åŠ›å’Œè·¨æ•°æ®åº“æ”¯æŒã€‚

## ä»€ä¹ˆæ˜¯ ObjectQL?

ObjectQL æ˜¯ä¸€ä¸ª**å£°æ˜å¼æ•°æ®å¼•æ“**,å…è®¸æ‚¨åªå®šä¹‰ä¸€æ¬¡æ•°æ®ç»“æ„,å°±èƒ½åœ¨ä¸åŒæ•°æ®åº“ç³»ç»Ÿä¸­ä¸€è‡´åœ°è®¿é—®æ•°æ®ã€‚å®ƒæŠ½è±¡äº†æ•°æ®åº“çš„å¤æ‚æ€§,åŒæ—¶ä¿ç•™äº† SQL çš„å¼ºå¤§åŠŸèƒ½å’Œæ€§èƒ½ã€‚

### æ ¸å¿ƒèƒ½åŠ›

- ğŸ—‚ï¸ **Schema é©±åŠ¨æ¶æ„** - å£°æ˜å¼å®šä¹‰æ•°æ®ç»“æ„
- ğŸ” **ç»Ÿä¸€æŸ¥è¯¢ DSL** - ä½¿ç”¨ä¸€è‡´çš„è¯­æ³•æŸ¥è¯¢ä»»ä½•æ•°æ®åº“
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - SQLite è™šæ‹Ÿåˆ—ç´¢å¼•,ä¼˜åŒ–çš„æ•°æ®åº“é©±åŠ¨
- ğŸ”„ **è·¨æ•°æ®åº“æ”¯æŒ** - SQLiteã€MySQLã€PostgreSQLã€Oracleã€SQL Server
- ğŸ—ï¸ **Virtual City æœºåˆ¶** - å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨** - æŸ¥è¯¢å’Œç»“æœçš„å¼ºç±»å‹æ”¯æŒ

## å·¥ä½œåŸç†

ObjectQL åŸºäºä¸‰ä¸ªæ ¸å¿ƒåŸåˆ™è¿ä½œ:

### 1. Schema å®šä¹‰

ä½¿ç”¨ç®€å•çš„ JavaScript å¯¹è±¡å®šä¹‰æ•°æ®ç»“æ„:

```typescript
const schema = {
  objects: {
    todos: {
      fields: {
        title: { type: 'text', required: true },
        completed: { type: 'boolean', defaultValue: false },
        due_date: { type: 'datetime' }
      }
    }
  }
}
```

### 2. æŸ¥è¯¢æ‰§è¡Œ

ä½¿ç”¨ç›´è§‚çš„ DSL æŸ¥è¯¢æ•°æ®:

```typescript
const activeTodos = await db.query('todos', {
  filters: [['completed', '=', false]],
  sort: 'due_date asc'
})
```

### 3. æ•°æ®åº“æŠ½è±¡

ObjectQL è‡ªåŠ¨å°†æŸ¥è¯¢è½¬æ¢ä¸ºç›®æ ‡æ•°æ®åº“çš„ä¼˜åŒ– SQL,è‡ªåŠ¨å¤„ç†æ–¹è¨€å·®å¼‚ã€‚

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          åº”ç”¨å±‚                          â”‚
â”‚      (æ‚¨çš„ä¸šåŠ¡é€»è¾‘)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ ObjectQL API
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ObjectQL å¼•æ“                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Schema    â”‚   æŸ¥è¯¢å¤„ç†å™¨          â”‚  â”‚
â”‚  â”‚  æ³¨å†Œè¡¨    â”‚   å’Œä¼˜åŒ–å™¨            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Virtual City ç®¡ç†å™¨           â”‚  â”‚
â”‚  â”‚    (å¤šç§Ÿæˆ·éš”ç¦»)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ é©±åŠ¨æŠ½è±¡å±‚
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æ•°æ®åº“é©±åŠ¨                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚SQLiteâ”‚MySQL â”‚Postgresâ”‚Oracleâ”‚SQL â”‚  â”‚
â”‚  â”‚      â”‚      â”‚        â”‚      â”‚Serverâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä½¿ç”¨åœºæ™¯

### æœ¬åœ°ä¼˜å…ˆåº”ç”¨

ä½¿ç”¨ SQLite æ„å»ºä¸ªäººåº”ç”¨:

```typescript
const db = new ObjectQL({
  driver: 'sqlite',
  url: './data/myapp.db'
})
```

### ä¼ä¸šç³»ç»Ÿ

è¿æ¥åˆ°ç°æœ‰æ•°æ®åº“:

```typescript
const db = new ObjectQL({
  driver: 'mysql',
  url: 'mysql://user:pass@localhost:3306/mydb'
})
```

### å¤šç§Ÿæˆ· SaaS

åˆ©ç”¨ Virtual City å®ç°ç§Ÿæˆ·éš”ç¦»:

```typescript
const tenantDb = db.virtualCity('tenant_123')
const data = await tenantDb.query('customers', {})
```

## æ‚¨å°†å­¦åˆ°ä»€ä¹ˆ

åœ¨æœ¬ç« èŠ‚ä¸­,æ‚¨å°†äº†è§£:

- âœ… **æ ¸å¿ƒæ¦‚å¿µ** - ç†è§£ Schema å’Œ Virtual City æœºåˆ¶
- âœ… **åè®®è§„èŒƒ** - Schema å®šä¹‰ã€æŸ¥è¯¢ DSL å’Œèšåˆæ“ä½œ
- âœ… **æ ¸å¿ƒåŠŸèƒ½** - è™šæ‹Ÿåˆ—ç´¢å¼•ã€é©±åŠ¨é€‚é…å’Œæ€§èƒ½ä¼˜åŒ–
- âœ… **æœåŠ¡ç«¯ SDK** - å®Œæ•´çš„ API å‚è€ƒå’Œå®è·µç¤ºä¾‹

## å¼€å§‹å­¦ä¹ 

å‡†å¤‡å¥½æ·±å…¥äº†è§£äº†å—?ä»è¿™é‡Œå¼€å§‹:

1. **[æ ¸å¿ƒæ¦‚å¿µ](/docs/objectql/core-concepts)** - ç†è§£åŸºç¡€æ¦‚å¿µ
2. **[åè®®è§„èŒƒ](/docs/objectql/protocol-spec)** - å­¦ä¹  Schema å’ŒæŸ¥è¯¢è¯­è¨€
3. **[æ ¸å¿ƒåŠŸèƒ½](/docs/objectql/core-features)** - æ¢ç´¢é«˜çº§åŠŸèƒ½
4. **[æœåŠ¡ç«¯ SDK](/docs/objectql/server-sdk)** - æŒæ¡ API

## å¿«é€Ÿç¤ºä¾‹

è¿™é‡Œæœ‰ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹å¸®æ‚¨å…¥é—¨:

```typescript
import { ObjectQL } from '@objectql/core'

// 1. åˆå§‹åŒ– ObjectQL
const db = new ObjectQL({
  driver: 'sqlite',
  url: './myapp.db'
})

// 2. å®šä¹‰ Schema
await db.registerSchema({
  objects: {
    tasks: {
      fields: {
        name: { type: 'text', required: true },
        status: { type: 'select', options: ['todo', 'done'] },
        priority: { type: 'number' }
      }
    }
  }
})

// 3. æ’å…¥æ•°æ®
await db.mutation('tasks', {
  action: 'insert',
  data: { name: 'å­¦ä¹  ObjectQL', status: 'todo', priority: 1 }
})

// 4. æŸ¥è¯¢æ•°æ®
const tasks = await db.query('tasks', {
  filters: [['status', '=', 'todo']],
  sort: 'priority desc'
})

console.log(tasks) // [{ name: 'å­¦ä¹  ObjectQL', status: 'todo', priority: 1 }]
```

## ä¸‹ä¸€æ­¥

å¼€å§‹æ‚¨çš„ ObjectQL ä¹‹æ—…:

- **åˆæ¬¡æ¥è§¦ ObjectQL?** ä»[æ ¸å¿ƒæ¦‚å¿µ](/docs/objectql/core-concepts)å¼€å§‹
- **æƒ³æŸ¥çœ‹å®Œæ•´ API?** è·³è½¬åˆ°[æœåŠ¡ç«¯ SDK](/docs/objectql/server-sdk)
- **éœ€è¦ç‰¹å®šåŠŸèƒ½?** æŸ¥çœ‹[æ ¸å¿ƒåŠŸèƒ½](/docs/objectql/core-features)
