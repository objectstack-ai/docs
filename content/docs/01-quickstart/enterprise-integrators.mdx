---
title: Enterprise Integrators
description: Guide for connecting ObjectStack to enterprise databases and deploying with Docker
---

# Enterprise Integrators Guide

This guide shows how to integrate ObjectStack with existing enterprise databases and deploy using Docker containers.

## Why ObjectStack for Enterprises?

Enterprise benefits include:

- ğŸ”Œ **Database Agnostic** - Connect to MySQL, PostgreSQL, Oracle, SQL Server
- ğŸ¢ **Multi-tenant** - Support multiple organizations in one deployment
- ğŸ” **Enterprise Security** - RBAC, field-level permissions, audit logs
- ğŸ“¦ **Containerized** - Docker-ready for modern DevOps workflows
- ğŸ”„ **Legacy Integration** - Connect to existing databases without migration

## Deployment Options

### Option 1: Connect to Existing Database

Use ObjectStack with your current MySQL or PostgreSQL database.

**Best for**: Integrating with existing systems, gradual migration

### Option 2: Docker Container Deployment

Deploy ObjectOS in a Docker container with a managed database.

**Best for**: New deployments, microservices architecture, cloud-native environments

## Option 1: Connect to Existing Database

### Prerequisites

- Node.js 18+ installed
- Access to MySQL 5.7+ or PostgreSQL 12+ database
- Database credentials (host, port, username, password, database name)
- Network access to the database server

### Step 1: Create Project

```bash
npm create object-app my-enterprise-app
```

Select the appropriate template:

```
? Select a template:
  SQLite Local
â¯ MySQL Enterprise
  PostgreSQL Enterprise
  Custom Configuration
```

### Step 2: Configure Database Connection

Edit `objectos.config.js`:

#### MySQL Configuration

```javascript
export default {
  datasources: {
    default: {
      driver: "mysql",
      host: "mysql.yourcompany.com",
      port: 3306,
      database: "objectstack_db",
      username: "objectstack_user",
      password: process.env.DB_PASSWORD,
      options: {
        charset: "utf8mb4",
        timezone: "+00:00",
        pool: {
          min: 2,
          max: 10
        }
      }
    }
  },
  server: {
    port: 3000,
    host: "0.0.0.0"
  },
  security: {
    secret: process.env.APP_SECRET,
    sessionTimeout: 7200 // 2 hours
  }
};
```

#### PostgreSQL Configuration

```javascript
export default {
  datasources: {
    default: {
      driver: "postgresql",
      host: "postgres.yourcompany.com",
      port: 5432,
      database: "objectstack_db",
      username: "objectstack_user",
      password: process.env.DB_PASSWORD,
      options: {
        ssl: {
          rejectUnauthorized: false
        },
        pool: {
          min: 2,
          max: 10
        }
      }
    }
  }
};
```

### Step 3: Environment Variables

Create `.env` file for sensitive credentials:

```bash
# Database
DB_PASSWORD=your_secure_password

# Application
APP_SECRET=your_random_secret_key_min_32_chars
NODE_ENV=production

# Optional: Multiple Databases
DB_ANALYTICS_HOST=analytics.yourcompany.com
DB_ANALYTICS_PASSWORD=analytics_password
```

**Security Best Practice**: Never commit `.env` to version control!

Add to `.gitignore`:

```
.env
.env.local
.env.*.local
```

### Step 4: Database Initialization

Run migrations to create ObjectStack system tables:

```bash
npm run migrate
```

This creates:

- User authentication tables
- Permission and role tables
- Object metadata tables
- Audit log tables

### Step 5: Connect to Legacy Tables (Optional)

If you have existing tables, map them as external objects:

```javascript
// src/objects/legacy_customer.object.js
export default {
  name: "legacy_customer",
  label: "Customer (Legacy)",
  table_name: "customers", // Existing table name
  external: true,
  fields: {
    customer_id: {
      type: "number",
      label: "Customer ID",
      name: "id", // Map to existing column
      primary: true
    },
    customer_name: {
      type: "text",
      label: "Name",
      name: "name" // Map to existing column
    },
    email: {
      type: "email",
      label: "Email",
      name: "email_address"
    },
    // Virtual field - computed, not in database
    full_info: {
      type: "formula",
      label: "Full Info",
      formula: "customer_name + ' (' + email + ')'"
    }
  }
};
```

### Step 6: Start the Server

```bash
npm run start
```

Access at `http://localhost:3000`

## Option 2: Docker Container Deployment

### Prerequisites

- Docker 20.10+ installed
- Docker Compose (optional, for multi-container setup)
- Basic Docker knowledge

### Step 1: Pull ObjectOS Image

```bash
docker pull objectstack/objectos:latest
```

### Step 2: Create Docker Compose File

Create `docker-compose.yml`:

```yaml
version: '3.8'

services:
  objectos:
    image: objectstack/objectos:latest
    container_name: objectos-app
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - DB_HOST=postgres
      - DB_PORT=5432
      - DB_NAME=objectstack
      - DB_USER=objectstack
      - DB_PASSWORD=secure_password
      - APP_SECRET=your_secret_key_min_32_characters
    volumes:
      - ./src:/app/src
      - ./objectos.config.js:/app/objectos.config.js
      - objectos-storage:/app/storage
    depends_on:
      - postgres
    restart: unless-stopped

  postgres:
    image: postgres:15-alpine
    container_name: objectos-postgres
    environment:
      - POSTGRES_DB=objectstack
      - POSTGRES_USER=objectstack
      - POSTGRES_PASSWORD=secure_password
    volumes:
      - postgres-data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    restart: unless-stopped

  # Optional: Redis for session storage
  redis:
    image: redis:7-alpine
    container_name: objectos-redis
    ports:
      - "6379:6379"
    volumes:
      - redis-data:/data
    restart: unless-stopped

volumes:
  postgres-data:
  redis-data:
  objectos-storage:
```

### Step 3: Create Application Directory Structure

```bash
mkdir -p src/objects src/pages src/triggers
```

Create a sample object `src/objects/contact.object.js`:

```javascript
export default {
  name: "contact",
  label: "Contact",
  fields: {
    name: { type: "text", label: "Name", required: true },
    email: { type: "email", label: "Email" },
    phone: { type: "phone", label: "Phone" },
    company: { type: "text", label: "Company" }
  }
};
```

### Step 4: Launch Containers

```bash
docker-compose up -d
```

Check status:

```bash
docker-compose ps
```

Expected output:

```
NAME                IMAGE                        STATUS
objectos-app        objectstack/objectos:latest  Up 2 minutes
objectos-postgres   postgres:15-alpine           Up 2 minutes
objectos-redis      redis:7-alpine               Up 2 minutes
```

### Step 5: View Logs

```bash
# All services
docker-compose logs -f

# Just ObjectOS
docker-compose logs -f objectos

# Last 100 lines
docker-compose logs --tail=100 objectos
```

### Step 6: Access Application

Open browser: `http://localhost:3000`

Default credentials (first run):

- Username: `admin`
- Password: `admin` (change immediately!)

## Multi-Database Configuration

Connect to multiple databases simultaneously:

```javascript
// objectos.config.js
export default {
  datasources: {
    // Primary database
    default: {
      driver: "postgresql",
      host: "postgres.internal",
      database: "main_db",
      username: "app_user",
      password: process.env.DB_PASSWORD
    },
    
    // Legacy MySQL database
    legacy: {
      driver: "mysql",
      host: "mysql.legacy.internal",
      database: "old_crm",
      username: "readonly_user",
      password: process.env.LEGACY_DB_PASSWORD
    },
    
    // Analytics database
    analytics: {
      driver: "postgresql",
      host: "analytics.internal",
      database: "warehouse",
      username: "analytics_user",
      password: process.env.ANALYTICS_PASSWORD,
      options: {
        readOnly: true
      }
    }
  }
};
```

Use specific datasource in object definition:

```javascript
export default {
  name: "legacy_order",
  label: "Legacy Order",
  datasource: "legacy", // Use legacy datasource
  table_name: "orders",
  external: true,
  fields: {
    // ... field definitions
  }
};
```

## Multi-Tenant Configuration

Configure for multiple organizations:

```javascript
// objectos.config.js
export default {
  multiTenant: {
    enabled: true,
    mode: "schema", // or "database" or "discriminator"
    
    // Schema-based (PostgreSQL)
    schemaPattern: "tenant_{tenantId}",
    
    // Database-based (MySQL)
    // databasePattern: "tenant_{tenantId}_db",
    
    // Discriminator-based (shared tables)
    // discriminatorField: "tenant_id"
  },
  
  tenantResolver: async (request) => {
    // Extract tenant from subdomain
    const hostname = request.headers.host;
    const subdomain = hostname.split('.')[0];
    
    // Or from header
    // const tenantId = request.headers['x-tenant-id'];
    
    return {
      id: subdomain,
      name: subdomain
    };
  }
};
```

## Production Deployment Checklist

### Security

- [ ] Change default admin password
- [ ] Use strong `APP_SECRET` (min 32 random characters)
- [ ] Store passwords in environment variables or secrets manager
- [ ] Enable SSL/TLS for database connections
- [ ] Configure firewall rules
- [ ] Enable audit logging

### Performance

- [ ] Set appropriate database pool size
- [ ] Configure Redis for session storage
- [ ] Enable caching for static assets
- [ ] Set up CDN for file storage
- [ ] Configure load balancer (if using multiple instances)

### Monitoring

- [ ] Set up health check endpoint
- [ ] Configure application logging
- [ ] Monitor database performance
- [ ] Set up alerting for errors
- [ ] Track resource usage (CPU, memory, disk)

### Backup

- [ ] Automated database backups
- [ ] File storage backups
- [ ] Test restore procedures
- [ ] Document recovery processes

## Advanced: Kubernetes Deployment

Example Kubernetes manifests:

### Deployment

```yaml
# objectos-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: objectos
spec:
  replicas: 3
  selector:
    matchLabels:
      app: objectos
  template:
    metadata:
      labels:
        app: objectos
    spec:
      containers:
      - name: objectos
        image: objectstack/objectos:latest
        ports:
        - containerPort: 3000
        env:
        - name: DB_HOST
          valueFrom:
            configMapKeyRef:
              name: objectos-config
              key: db-host
        - name: DB_PASSWORD
          valueFrom:
            secretKeyRef:
              name: objectos-secrets
              key: db-password
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 3000
          initialDelaySeconds: 30
          periodSeconds: 10
```

### Service

```yaml
# objectos-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: objectos
spec:
  selector:
    app: objectos
  ports:
  - port: 80
    targetPort: 3000
  type: LoadBalancer
```

## Database Migration Strategies

### Zero-Downtime Migration

1. **Dual-write phase**: Write to both old and new databases
2. **Backfill phase**: Copy historical data
3. **Validation phase**: Verify data consistency
4. **Switch phase**: Route reads to new database
5. **Cleanup phase**: Remove old database

### Gradual Migration

```javascript
// Use object-level datasource routing
export default {
  name: "customer",
  datasource: process.env.MIGRATION_PHASE === 'complete' 
    ? 'new_db' 
    : 'legacy_db',
  // ... fields
};
```

## Troubleshooting

### Connection Refused

```bash
# Check database is running
docker-compose ps postgres

# Test connection
docker-compose exec postgres psql -U objectstack -d objectstack

# Check logs
docker-compose logs postgres
```

### Permission Denied

```sql
-- Grant necessary permissions
GRANT ALL PRIVILEGES ON DATABASE objectstack TO objectstack_user;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO objectstack_user;
```

### Container Won't Start

```bash
# Check logs
docker-compose logs objectos

# Validate config
docker-compose config

# Restart containers
docker-compose restart
```

## Next Steps

> **Note**: The links below point to future documentation sections that are under development.

- Multi-tenant Configuration (coming soon)
- Security & Permissions (coming soon)
- Monitoring & Logging (coming soon)
- High Availability Setup (coming soon)

## Getting Help

> **Note**: Commercial documentation is under development.

- ğŸ“š Enterprise Documentation (coming soon)
- ğŸ’¼ [Enterprise Support](https://objectstack.io/enterprise)
- ğŸ”§ [Professional Services](https://objectstack.io/services)
